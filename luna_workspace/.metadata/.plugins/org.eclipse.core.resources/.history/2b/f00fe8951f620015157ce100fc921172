import helper_classes.*;

/* a sandbox for code experimentation.
 * 
 */

public class Scratch {

	static String latsFileName = "C:\\Users\\glgr9602\\Desktop\\condense\\data\\surface\\SHLATLSB";
	static String lonsFileName = "C:\\Users\\glgr9602\\Desktop\\condense\\data\\surface\\SHLONLSB";
	static String coastlineFileName = "C:\\Users\\glgr9602\\Desktop\\condense\\data\\surface\\Sh_loci_land50_landcoast12.5km.1441x1441.bin";

	final static int ROWS = 1441;
	final static int COLS = 1441;
	
	public static void main(String[] args) {

		SurfaceVector[][] surface = new SurfaceVector[ROWS][COLS];

		// Read the file
		try {

			DataFile latitudes = new DataFile( latsFileName );
			DataFile longitudes = new DataFile( lonsFileName );
			DataFile surfaceFile = new DataFile( coastlineFileName );

			for (int r = 0; r < ROWS; r++) {
				for (int c = 0; c < COLS; c++) {
					
					int lat = latitudes.readInt();
					int lon = longitudes.readInt();
					byte type = surfaceFile.readByte();
					
					// Reverse the byte order (for Windows).
					lat = Tools.reverseByteOrder(lat);
					lon = Tools.reverseByteOrder(lon);

					// Decode the data, convert to doubles.
					double latD = ((double) lat) / 100000.0;
					double lonD = ((double) lon) / 100000.0;
					
					surface[r][c] = new SurfaceVector( (int) type,
							new GriddedLocation(r,c,latD,lonD), 0);
					
					
				}
			}

			latitudes.close();			
			longitudes.close();			
			surfaceFile.close();
		}
		catch(Exception e) {
			Tools.warningMessage("Failed to open file");
		}
		for (int i = 0; i < ROWS; i = i + 10) {
			Tools.message("surface["+i+"]["+i+"] = " + surface[i][i].classification());
		}
	}

}
