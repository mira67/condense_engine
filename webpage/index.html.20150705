<html>
<head>
<title>Simple Ajax Example</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>

<!--
<script>
	jQuery.ajax({
	   type: "POST",
	   url: "/cgi-bin/python1.py",
	   success: function (msg) {
	       alert("Data Saved: " + msg);
	   }
	});
</script>
-->
<script>
function runreport(datastring)
{
        $.ajax({
                type: "POST",
                url:  "/cgi-bin/runsearch.py",
                data:
                {
                        'form_data' : datastring
                },
                success: function(json)
                {
                        $("div#report_result").show();
                            var oTable = $('#example').dataTable( {
                                "iDisplayLength": json.iDisplayLength,
                                "sPaginationType": json.sPaginationType,
                                "bProcessing": true,
                                "bDestroy": true,
                                "bRetrieve": true,
                                "aaData": json.aaData,
                                "aoColumns": json.aoColumns
                            } );
                        $('html, body').animate({scrollTop:$(document).height()}, 'slow');
                },
                error:function(xhr,err)
                {
                     alert("Failed\nreadyState: "+xhr.readyState+"\nstatus: "+xhr.status + "\nresponseText: "+xhr.responseText);
                }
         });
}
</script>

<div id="report_result">report result</div>
</body>
</html>
